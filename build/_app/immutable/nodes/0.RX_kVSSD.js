import{t as T,e,a as $,s as X}from"../chunks/BCViuYXD.js";import{i as Y}from"../chunks/oBYXxpFJ.js";import{v as Z,A as ee,p as te,a4 as ae,a5 as re,b as oe,c as s,s as c,r as n,h as se,t as U,g as q,m as ne,d}from"../chunks/BWjiBZrZ.js";import{i as ie,s as le,a as B}from"../chunks/B6c3gU6M.js";import{s as ue}from"../chunks/Dv00Ct0Q.js";import{s as y}from"../chunks/C2AOTDu5.js";import{p as ce}from"../chunks/Bfc47y5P.js";import{s as fe,g}from"../chunks/CZFj2HiF.js";import{i as be,u as de,a as ge}from"../chunks/i7Cjmawx.js";function ve(o,f,p,m,i){var v;Z&&ee();var r=(v=f.$$slots)==null?void 0:v[p],t=!1;r===!0&&(r=f.children,t=!0),r===void 0||r(o,t?()=>m:m)}const pe=()=>{const o=fe;return{page:{subscribe:o.page.subscribe},navigating:{subscribe:o.navigating.subscribe},updated:o.updated}},me={subscribe(o){return pe().page.subscribe(o)}};var xe=T('<a href="/progress">学习进度</a> <a href="/editor">在线编辑器</a> <div class="relative" role="button" tabindex="0"><div class="flex items-center space-x-2 cursor-pointer p-2 rounded"><img alt="用户头像" class="w-10 h-10 rounded-full object-cover border-2 border-blue-500"> <span class="text-lg text-gray-300 hidden md:block"> </span></div> <div role="menu" tabindex="0"><button class="block w-full text-left px-4 py-2 text-gray-200 hover:bg-gray-600 rounded-t-lg transition focus:outline-none focus:ring-2 focus:ring-blue-500">个人中心</button> <button class="block w-full text-left px-4 py-2 text-gray-200 hover:bg-gray-600 rounded-b-lg transition focus:outline-none focus:ring-2 focus:ring-blue-500">退出</button></div></div>',1),he=T('<a href="/login">登录</a>'),ye=T('<div class="flex flex-col min-h-screen bg-gray-900"><nav class="bg-gray-800 h-16 border-b-2 border-gray-600 sticky top-0 z-50 shadow-lg"><div class="w-full flex justify-between items-center px-12 h-full"><button class="text-2xl font-bold text-blue-400 hover:text-blue-300 transition focus:outline-none focus:ring-2 focus:ring-blue-500">Python 学习平台</button> <div class="flex items-center space-x-6"><!></div></div></nav> <main class="flex-1"><!></main></div>');function Le(o,f){te(f,!1);const[p,m]=le(),i=()=>B(de,"$user",p),r=()=>B(me,"$page",p);let t=ne(!1),v;be();function C(){d(t,!1),ge(),g("/login")}function F(){g("/")}function G(){d(t,!1),g("/profile")}function I(){g("/login")}function x(){i()&&(clearTimeout(v),d(t,!0))}function h(){v=setTimeout(()=>{d(t,!1)},300)}function J(a){i()&&(a.key==="Enter"||a.key===" ")?(a.preventDefault(),d(t,!q(t))):a.key==="Escape"&&d(t,!1)}ae(()=>(i(),r(),g),()=>{i()&&r().url.pathname==="/login"&&g("/")}),re(),Y();var _=ye(),k=s(_),D=s(k),j=s(D),z=c(j,2),N=s(z);{var O=a=>{var b=xe(),L=se(b),M=c(L,2),l=c(M,2),w=s(l),P=s(w),A=c(P,2),V=s(A,!0);n(A),n(w);var u=c(w,2),H=s(u),W=c(H,2);n(u),n(l),U(()=>{var K,S;y(L,1,`text-lg text-gray-300 hover:text-blue-400 transition font-medium ${(r().url.pathname==="/progress"?"text-blue-400 border-b-2 border-blue-400":"")??""}`),y(M,1,`text-lg text-gray-300 hover:text-blue-400 transition font-medium ${(r().url.pathname==="/editor"?"text-blue-400 border-b-2 border-blue-400":"")??""}`),ue(P,"src",((K=i())==null?void 0:K.avatar)||"/favicon.png"),X(V,((S=i())==null?void 0:S.username)||""),y(u,1,`${(q(t)?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none")??""} absolute top-full right-0 mt-2 w-48 bg-gray-700 rounded-lg shadow-xl transition-opacity duration-200 z-50`)}),e("click",H,G),e("click",W,C),e("mouseenter",u,x),e("mouseleave",u,h),e("focus",u,x),e("blur",u,h),e("mouseenter",l,x),e("mouseleave",l,h),e("focus",l,x),e("blur",l,h),e("keydown",l,J),$(a,b)},Q=a=>{var b=he();U(()=>y(b,1,`text-lg text-gray-300 hover:text-blue-400 transition font-medium ${(r().url.pathname==="/login"?"text-blue-400 border-b-2 border-blue-400":"")??""}`)),e("click",b,ce(I)),$(a,b)};ie(N,a=>{i()?a(O):a(Q,!1)})}n(z),n(D),n(k);var E=c(k,2),R=s(E);ve(R,f,"default",{}),n(E),n(_),e("click",j,F),$(o,_),oe(),m()}export{Le as component};
